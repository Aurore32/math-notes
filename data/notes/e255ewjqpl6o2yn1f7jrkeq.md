
> I have discovered a truly horrendous proof of the following theorem, which this margin is too large to contain.

## A foray into the weeds: the Euler-Fermat theorem

(_Weeds_ refers to number theory.)

Fermat is now considered a foundational mathematician in the development of calculus and number theory, but math was actually his side hustle; he worked as a lawyer for his day job, which makes him the benchmark every second-generation immigrant Asian kid would be compared to for the rest of history.

One of Fermat's most well-known results is *Fermat's Little Theorem*, ~~which is also what Fermat's girlfriend called his pecker~~:

> <span style="background-color: #12ffd7; color: black;">Theorem</span>. **Euler-Fermat Theorem** (and Fermat's Little Theorem). Let $n \in \mathbb{N}$ and $a \in \mathbb{Z}$ be coprime to $n$. Let $\phi(n)$ be the **Euler totient function**, which computes the number of positive integers smaller than or equal to $n$ that are coprime with $n$:
$$
\phi(n) = |\{m \in \mathbb{N}:\ 1 \leq m \leq n, \text{gcd}(m,n) = 1\}|
$$
> Given the above, the Euler-Fermat Theorem states that for $n$, $a$ and $\phi(n)$, we have
$$
a^{\phi(n)}\equiv 1\ (\text{mod }n)
$$
> Fermat's Little Theorem is a particular case of the above; for $p$ prime, $\phi(p) = p-1$ (as every positive integer less than a prime is coprime to that prime), yielding
$$
a^{p-1}\equiv 1\ (\text{mod $p$}).
$$

(Side note: if $n$ has prime factors $p_1$, $p_2$, ..., $p_k$, $\phi(n)$ admits the simple form
$$
\phi(n) = n(1-\frac{1}{p_1})(1-\frac{1}{p_2}) ... (1-\frac{1}{p_k})
$$
where $1-\frac{1}{p_1}$ calculates the number of positive integers less than $n$ which are not multiples of $p_1$, $1-\frac{1}{p_2}$ the number of positive integers less than $n$ which are not multiples of $p_2$, and so on; a positive integer is coprime with $n$ if it shares no prime factors with $n$, resulting in the above representation.)

> <span style="background-color: #1eff12; color: black;">Proof</span>. 

The Euler-Fermat theorem has about a septillion bazillion different proofs, some of which are simple enough to be understood by five-year-old children playing with their ankle bracelets (as in, the proof actually involves an ankle bracelet, though thankfully it doesn't involve any five-year-old children). But did you know that through the power of group theory, we can prove the Euler-Fermat theorem in an extremely complex and needlessly convoluted way unappreciable by anyone who hasn't studied undergraduate math? Well, we can. 

The basic idea is this: if $G$ is a group, we know by a previous lemma that for all $g\in G$, we have
$$
g^{|G|} = e_G
$$
with $|G|$ the order of the group; as a reminder, this is because $|G|$ is a multiple of $\text{ord}(g)$, which is just the order of the cyclic subgroup generated by $g$ alone - and by Lagrange's theorem, the order of any subgroup divides the order of the group. 

As such, if we can show that the positive integers less than $n$ and coprime to $n$ form a group $U_n$ under some binary operation $\text{mod }n$ - with  identity $1$ and $|U_n| = \phi(n)$ by definition - we will have
$$
g^{\phi(n)} \equiv 1\ (\text{mod}\ n)
$$
where $g^{\phi(n)}$ is understood be the binary operation, whatever it is, repeated $\phi(n)$ times. For this to match the Euler-Fermat theorem, let's just say this binary operation is multiplication $\text{mod}\ n$:
$$
a, b\in U_n,\ a\cdot_{U_n} b = ab\ (\text{mod}\ n)
$$
where $ab$ denotes multiplication in the "usual" sense. (I legitimately hate the fact that these words are part of my vocabulary now.) 

So, is $U_n$ a group under multiplication $\text{mod }n$ on the set of all positive integers less than $n$ coprime with $n$? For closure, let $a, b < n$ be coprime with $n$; then 
$$
ab \ (\text{mod }n) = ab - kn = m
$$
for some $k$ by definition, which must also be coprime to $n$; if $m$ was not coprime to $n$ (i.e. $m = cp_1$ for some prime factor of $n$, $p_1$), we would have $m + kn = ab = p_1(...)$ which shares the prime factor $p_1$ with $n$, and is thus not coprime to $n$. This is a contradiction, because $ab$ must be coprime with $n$ by virtue of neither $a$ and $b$ sharing prime factors with $n$. Thus $U_n$ is closed. Associativity is inherited from multiplication; the identity element is $1$. 

The inverse is a little bit trickier. For there to be an inverse, there would need to exist a unique $a^{-1} \in U_n$ such that $aa^{-1} \equiv 1 \ (\text{mod }n)$; this implies that
$$
aa^{-1} - kn = 1
$$
for some positive integer $k$. Such an $a^{-1}$ exists via Bezout's Identity, which I will neither acknowledge, explain, nor elaborate upon.

As such, $U_n$ forms a group; and for any $a < n$ already in $U_n$, the Fermat-Euler Theorem is satisfied by the lemma we mentioned before - 
$$
a^{|U_n|} \equiv a^{\phi(n)} \equiv 1\ (\text{mod }n).
$$
For $a> n$ and $a$ coprime with $n$, however, we know that $a$ can be written as $kn + r$ for some positive integers $k$ and $r$, with $a \equiv r\ (\text{mod }n)$ and $r$ also coprime with $n$ ($r \in U_n$); if $r$ wasn't coprime with $n$, $a$ and $n$ would share a prime factor. This leads to
$$
\begin{aligned}
a^{\phi(n)}&\equiv (kn+r)^{\phi(n)} \\
&\equiv r^n + (\text{powers of $(kn$)})\ (\text{mod }n )\\
&\equiv r^n\ (\text{mod }n) \\
&\equiv 1
\end{aligned}
$$
by the Binomial Theorem. This yields the desired result. $\square$


## Classifying small groups

Possibly the most important consequence of Lagrange's Theorem is that it dramatically narrows our search range for potential subgroups of a group; this is especially true for groups $G$ of small size, whose small size guarantees a very limited number of divisors of $|G|$ and thus a very limited number of subgroups. 

Up until this point, we've studied a few families of groups that serve as candidates for subgroups: the cyclic group $C_n$, the dihedral gorup $D_{2n}$, and the permutation group $S_n$. One last group needs to round out our happy family of three before we can fully classify every small group (with at most 8 elements).

### Quaternions

> A quaternion is what Gordon Ramsay tells me to simmer in my beef stock, probably.

Quaternions were first discovered by William Hamilton in 1843. As the legend goes, Hamilton was walking with his wife on a bridge at Cambridge when a flash of genius struck him, and he was moved to carve what have become the defining properties of quaternions on a rock on the bridge while his wife looked on in abject horror at a grown man suddenly dropping to the ground to play with rocks. 

(Unfortunately, the rock has since been lost to time and the laws carved upon it weathered and gone. ~~This makes Alexander Hamilton the second Hamilton in history to carve fundamental laws in stone only for them to have gone to shit.~~)

> <span style="background-color: #03cafc; color: black;">Definition</span>. Later courses will reveal that **quaternions** are an extension of the concept of complex numbers to more complex units; however, this course won't. For the time being, the **quaternions** - of which there are four, hence the name - can be defined as the complex matrices given by
$$
\begin{cases}
\mathbf{1} = \begin{bmatrix}
1 & 0 \\
0 & 1
\end{bmatrix} \\
\mathbf{i} = \begin{bmatrix}
i & 0 \\
0 & -i
\end{bmatrix} \\
\mathbf{j} = \begin{bmatrix}
0 & 1 \\
-1 & 0
\end{bmatrix} \\
\mathbf{k} = \begin{bmatrix}
0 & i \\
i & 0
\end{bmatrix}.
\end{cases}
$$
> These four matrices can be verified to satisfy the properties (which William Hamilton carved in stone)
$$
\mathbf{i}^2 = \mathbf{j}^2 = \mathbf{k}^2 = \mathbf{ijk} = -1.
$$
(My textbook calls these properties "amusing", which is a statement made by someone who is probably a little wonky in the head.)

> <span style="background-color: #ffb812; color: black;">Proposition</span>. Importantly, the set of quaternions along with their additive inverses $\{\pm \mathbf{1, \pm i, \pm j, \pm k}\}$form a group under matrix multiplication; call this group $Q_8$, with $8$ total elements. This arises from every one of the above quaternions satisfying $x^4 = \mathbf{1}$ and having periodic powers that exclusively equal the other quaternions.

With the quaternion group $Q_8$, we're now equipped with everything we need to describe groups of small order - except for a few last preparatory statements.

### Direct product theorems

> <span style="background-color: #12ffd7; color: black;">Theorem</span>. **Chinese Remainder Theorem.** ~~Unfortunately, the Chinese Remainder Theorem is not a statement about the amount of leftovers I am expected to leave every time I eat Chinese takeout.~~ If $n$, $m$ have no common factors, then $\mathbb{Z}_{nm}$ is isomorphic to the direct product $\mathbb{Z}_n \times \mathbb{Z_m}$ via the function $\phi: \mathbb{Z}_{nm} \to \mathbb{Z}_n \times \mathbb{Z}_m,\ \phi(a) = (a\ (\text{mod}\ n), a\ (\text{mod}\ m))$.

(Unfortunately $\phi$ already denotes the Euler totient function, but I'm too illiterate in the Greek alphabet to think of anything different.)

> <span style="background-color: #1eff12; color: black;">Proof</span>. 

Firstly, this function is a homomorphism between the two groups (reminding ourselves that $\mathbb{Z}_{n}$ is the integers modulo $n$, with addition as the binary operation):
$$
\phi(a+b) = ((a+b)\ (\text{mod}\ n), (a+b)\ (\text{mod}\ m)) = \phi(a) + \phi(b)
$$
The kernel of this homomorphism is all positive integers $a$ that are both $0$ mod $m$ and mod $n$; as $n$ and $m$ have no common factors by assumption, no such integers $< nm$ exist. As the kernel is trivial, if $\phi(a) = \phi(b)$, then we have only $\phi(a) - \phi(b) = \phi(a-b) = 0$ implying that $a = b$. Therefore no two elements in $\mathbb{Z}_{nm}$ map to the same element in $\mathbb{Z_n\times Z_m}$, and as both groups have $nm$ elements, the image of the homomorphism is the entirety of $\mathbb{Z_n\times Z_m}$. Thus, the two groups are isomorphic; this implies that for integers $a$ with
$$
a \equiv k\ (\text{mod }nm)
$$
for coprime $n$, $m$, there is a unique way to write
$$
\begin{cases}
a \equiv x\ (\text{mod }n)\\
a \equiv y\ (\text{mod}\ m)
\end{cases}
$$
such that the two statements are equivalent.


> <span style="background-color: #12ffd7; color: black;">Theorem</span>. **Direct Product Theorem.** Let $H_1$ and $H_2$ be subgroups of $G$. $G$ is isomorphic to their direct product $H_1 \times H_2$ if (but not only if):
1. $H_1 \cap H_2 = \{e\}$
2. If $h_1 \in H_1$ and $h_2 \in H_2$, then $h_1h_2 = h_2 h_1$, and
3. For each $g \in G$ there are $h_1 \in H_1$ and $h_2 \in H_2$ such that $g = h_1 h_2$.

> <span style="background-color: #1eff12; color: black;">Proof</span>.

Consider the function $\phi(h_1, h_2) = h_1 \cdot_G h_2$ which maps from $H_1 \times H_2$ to $G$. This function is a homomorphism if
$$
\begin{aligned}
\phi((h_1, h_2)\cdot_{H_1\times H_2} (h_1', h_2')) &= \phi(h_1, h_2)\cdot_G \phi(h_1', h_2') \\
\phi(h_1 \cdot_G h_1', h_2 \cdot_G h_2') &= h_1\cdot_G h_2 \cdot_G h_1' \cdot_G h_2' \\ 
h_1h_1'h_2h_2' &= h_1h_2h_1'h_2' \\
h_1'h_2 &= h_2h_1'
\end{aligned}
$$
for all $h_1, h_1' \in H_1$, $h_2, h_2' \in H_2$; the above condition is satisfied by (2) - "If $h_1 \in H_1$ and $h_2 \in H_2$, then $h_1h_2 = h_2 h_1$". This function is isomorphic if its kernel is the identity and its image is the entire group $G$. Suppose that $(h_1,h_2)$ lies in the kernel of $\phi$:
$$
\phi(h_1,h_2) = h_1\cdot_G h_2 = e,\ h_1 = h_2^{-1}
$$
which would mean that $h_1$ and $h_2$ are in the same subgroup, as any element in a group must also have its associated inverse. However, by (1) ("$H_1 \cap H_2 = \{e\}$"), the only common element between the groups is the identity itself; thus, the kernel of $\phi$ is the identity.

Finally, the image of $\phi$ is guaranteed to be the entirety of $G$ by property (3). Thus, $\phi$ is an isomorphism between $H_1 \times H_2$ and $G$.

> <span style="background-color: #12ffd7; color: black;">Theorem</span>. If every non-identity element in a finite group $G$ has order $2$, $G$ is isomorphic to $C_2 \times C_2 \times ... \times (C_2$ for a certain number of $C_2$). 

This multiple direct product is the group consisting of elements of the form 
$$
\{(a_1, a_2, ..., a_n)\ |\ a_i \in C_2\}
$$
with multiplication defined on a term-by-term basis, as before. 

> <span style="background-color: #1eff12; color: black;">Proof</span>. 

Firstly, observe that the group $G$ must be abelian: for any element $g \in G$ of order $2$ (which is every non-identity element, by our assumption), we have $g^2 = e$ and thus $g = g^{-1}$, yielding
$$
g_1 g_2 = g_1^{-1} g_2^{-1} = (g_2 g_1)^{-1} = g_2 g_1
$$
as $g_2 g_1$ is also an element of order 2 by virtue of being in $G$. 

Now consider what $G$ looks like. Any element $g_1 \in G$ forms a subgroup with itself as the generator, $G_1 = \{e, g_1\} \cong C_2$; if $G = G_1$, then $G \cong C_2$ and we are done. If instead there is an element $g_2 \neq g_1 \in G$, then $g_2$ also forms a subgroup $G_2 = \{e, g_2\} \cong C_2$; so will $g_1$ and $g_2$ together, which generate the subgroup $G_{1,2} = \{e, g_1, g_2, g_1g_2\}$. By the Direct Product Theorem, $G_1 \cap G_2 = \{e\}$, $G$ is abelian, and some product of elements from $G_1$ and $G_2$ expresses all elements in $G_{1,2}$; thus we have
$$
G_{1,2} \cong G_1 \times G_2 = C_2 \times C_2.
$$
If $G = G_{1,2}$ (i.e. $|G| = 4$), then $G \cong C_2 \times C_2$. Otherwise, if there is one other element $g_3 \neq g_1 \neq g_2$ in $G$, repeat the above process: $G_{1,2,3}$, the group generated by $g_1, g_2$ and $g_3$ (which is $G$ itself), is isomorphic to the direct product $C_2 \times C_2 \times C_2$, and so on. This can be done with any number of finite $g_n$. $\square$

### Group classifications

Here we classify all groups of order $8$ or less.

**The identity/trivial group.** $\{e\}$ is the only group of order $1$.

**Prime-order groups.** All groups of prime order $p$ are cyclic. By Legrange's Theorem, such groups have no "actual" subgroups (besides the trivial subgroup and itself); as such there can be no element within it with order less than $p$, as that element would generate a subgroup. Thus all elements within the group have order $p$, which, by definition, corresponds to a cyclic group.

This rules out groups of order $2$, $3$, $5$ and $7$, which are all isomorphic to cyclic groups.

**Order 4.**

> <span style="background-color: #ffb812; color: black;">Proposition</span>. All groups $G$ of order $4$ are isomorphic to either $C_4$ or $C_2 \times C_2=D_4$.

> <span style="background-color: #1eff12; color: black;">Proof</span>.

By Lagrange's Theorem, an element $g \in G$ has order $1$, $2$, or $4$. If $g$ has order $4$, then by definition $G$ is a cyclic group, as its elements are $\{e, g, g^2, g^3\}$; if $g$ has order $1$, $g$ is the identity; and if $g$ has order $2$, we have
$$
g = g^{-1}.
$$
Suppose that $G$ is not the cyclic group; it thus cannot have elements of order $4$, only $1$ (the identity exclusively) and three other elements of order $2$. Let $a, b \in G$ be two distinct non-identity elements of $G$ with order $2$. Then we have $ab = (ab)^{-1} = b^{-1} a^{-1} = ba$, and thus $G$ is abelian; this is due to $ab \in G$ and all elements of $G$ having order $2$, leading to $(ab)^{-1} = ab$. We also have $a \neq ab$ and $b \neq ab$ due to neither being the identity; thus, $a, b, ab$ and $e$ form a complete group. The subgroups of this group arise entirely from
$$
\{a, e\},\ \{b, e\}
$$
which are both isomorphic to $C_2$, and their direct product $C_2 \times C_2$ leads to $\{a,b,ab,e\}$. $\square$


**Order 6.**

> <span style="background-color: #ffb812; color: black;">Proposition</span>. All groups $G$ of order $6$ are isomorphic to either $S_3$ or $C_6$. (The two groups are not themselves isomorphic because $S_3$ has no element of order $6$.)

> <span style="background-color: #1eff12; color: black;">Proof</span>. 

By Lagrange's Theorem, an element $g \in G$ has order $1$, $2$, $3$ or $6$. 

If $g$ has order $6$, then $G$ is isomorphic to $C_6$ by definition; this yields the result concerning $C_6$. Otherwise, suppose that $G$ contains only elements of order $2$. By an above result, $G$ is thus isomorphic to $C_2 \times C_2 \times ... \times C_2$, and has order $2^n$, not $6$; thus, $G$ cannot contain only elements of order $2$ and must contain elements of order $3$.

Now suppose that $G$ contains only elements of order $3$; these elements will form subgroups of the form $G_a = \{e, a, a^2\}$. If $b \in G$ is not in $G_a$, then $b^2$ will also not be in $G_a$, as $(b^2)^2 = b^4 = b$ is not in $G_a$. Thus $G$ has at least the elements $\{e, a, b, a^2, b^2\}$; if there is a single other element $c$ not equal to these five elements, $c$ also has order $3$ by assumption and $c^2$ will not equal any of the above (by the same argument as $b^2$). Therefore $G$ is at least $\{e, a, b, c , a^2, b^2, c^2\}$, which contains 7 elements and not 6 - a contradiction.

Thus $G$ must contain elements of both order $2$ and $3$. Let $a \in G$ have order $2$, and $b$ have order $3$, with $a \neq b \neq e$; then we have
$$
G = \{e, a, b, b^2\}
$$
at minimum. $ab$ does not equal any of these elements; if $ab = e$ then $b = a^{-1} = a$ as $a$ has order $2$, but $b \neq a$; if $ab = a$ then $b = e$, which is untrue; if $ab = b$ then $a  =e$, which is untrue; and if $ab = b^2$ then $a = b$ directly, which is untrue. Similarly, $ab^2$ is also part of $G$ and unequal to any of the above. Thus we have
$$
G = \{e, a, b, b^2, ab, ab^2\}
$$
which can be verified to be closed, and is of order $6$. Finally, we notice that the above maps exactly to the dihedral group $D_6$, with the rotation element $r = b$ and the reflection element $s = a$; in turn, $D_6 \cong S_3$, leading to the desired result.

**Order 8.**

> <span style="background-color: #ffb812; color: black;">Proposition</span>. All groups $G$ of order $8$ are isomorphic to one of the following: $C_8$, $C_4 \times C_2$, $C_2 \times C_2 \times C_2$, the quaternion group $Q_8$, and the dihedral group $D_8$. 

The groups are not themselves isomorphic because $C_8$ has an element of order $8$, which no other group does; $C_2 \times C_2 \times C_2$ has elements of order $2$ only, which no other grouop does; and $Q_8, D_8$ and $C_4 \times C_2$ can be verified to not share elements with similar properties.

> <span style="background-color: #1eff12; color: black;">Proof</span>. 

The simplest case is the cyclic group: if $G$ has an element of order $8$, then $G$ is isomorphic to $C_8$ by definition. Otherwise, by Lagrange's Theorem, $G$ has elements of order $1$, $2$ or $4$ (not $8$, as that would make $G$ cyclic.) Ignoring elements of order $1$, we have:

   1. $G$ has only elements of order $2$. By an above result, this leads to $G \cong C_2 \times C_2 \times C_2$.
   2. $G$ has an element of order $4$: call this element $f$. Then the subgroup generated by $f$ alone, denoted $\langle f \rangle$, has the form
   $$
   \{e, f, f^2, f^3\}
   $$
   By the fact that left cosets partition $g$, we know that there must exist some $g \in G$ and not in $\langle f \rangle$ such that the coset $g\langle f\rangle = \{g, gf, gf^2, gf^3\}$ are the remaining elements of $G$. The question is, what is the order of $g$?  If $g^2 \in g\langle f \rangle$ we would have $g = f^n$ for some $n = 0, 1, 2, 3$, which is a contradiction because it would make $g\langle f \rangle = \langle f \rangle$. 

   Thus, $g^2 \in \langle f \rangle$; if $g^2 = f$ then $g^4 = f^2 \neq e$, yielding $g$ as an element of order greater than $4$ (and thus of order $8$) - a contradiction, as that would make $G$ cyclic. Thus we have $g^2 = e$ or $g^2 = f^2$.

   If $g^2 = e$ and not $f^2$, consider the element $fg$; it cannot be part of the coset $\langle f \rangle$ because then we would have $g = f^n$ once again. Thus $fg \in \{g, gf, gf^2, gf^3\}$, and $g^{-1}fg \in \langle f \rangle =\{e,f,f^2,f^3\}$; $g^{-1}fg$ has order $4$ as $f$ has order $4$, so $g^{-1}fg$ must be either $f$ or $f^3$. If it is $f$, then $fg = gf$; the Direct Product Theorem then shows that $G = \langle f \rangle \times \langle g \rangle = C_4 \times C_2$. Otherwise if it is $f^3 = f^{-1}$, we have
   $$
   g^{-1}fg = f^{-1}
   $$
   which defines the dihedral group $D_8$, as $g$ is order $2$.

   Finally, consider $g^2 = f^2$; once again $fg \in g\langle f\rangle$ and $g^{-1}fg = f$ or $f^3$. If the former, we have again the direct product $C_2 \times C_4$; if the latter, $g$ is order $4$, yielding a bijection with the quaternion group.